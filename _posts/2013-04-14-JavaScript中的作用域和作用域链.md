---
layout: post
title: "JavaScript中的作用域和作用域链"
description: ""
category: ramblings
tags: [javascript, 作用域]
---
{% include JB/setup %}


关于作用域的问题可以参考[这个](http://www.laruence.com/2009/05/28/863.html)帖子

其中我觉得最重要的两句话是:
> 在一个函数被定义的时候, 会将它定义时刻的scope chain链接到这个函数对象的[[scope]]属性.

> 在一个函数对象被调用的时候，会创建一个活动对象(也就是一个对象), 然后对于每一个函数的形参，都命名为该活动对象的命名属性, 然后将这个活动对象做为此时的作用域链(scope chain)最前端, 并将这个函数对象的[[scope]]加入到scope chain中.

从这句话能看出来，，作用于和作用域链之间的关系是相对的：其中



作用域:其实就是该函数定义时期的作用域链。

调用时的作用域链:其实就是一个数组，第一个元素是一个叫做活动对象的对象，里面包含了函数的参数，局部变量等属性，最后一个元素，就是该函数的作用域对象。


也就是说，作用域是静态的，而作用域链却是动态变化的，两者的相同点是，都是在函数定义的时候创建的。
在函数内部的每一个变量解析过程，都是从作用域顶端遍历，如果找到就返回，找不到就返回undefined,由于活动对象在顶端，所以会覆盖后面全局变量
